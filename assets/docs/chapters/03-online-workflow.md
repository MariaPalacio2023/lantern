# Online Production Workflow

## Required Setup

- Create a [GitHub](https://github.com) account

## Create Your Online Workspace

Your online workspace will be a repository on GitHub. A repository is a project folder that uses [Git]() for version control. Your repository will contain all of the source files for your textbook manuscript. Lantern provides a template repository that you can copy to your GitHub account.

1. Login to [GitHub](https://github.com)

1. Visit https://github.com/nulib-oer/lantern

1. Click the green "Use This Template" button. This brings you to a "Create a new repository" form. 

1. Enter your new repository name for your textbook project. Use a lowercase name without spaces or odd characters. This name will become part of your site URL, so think through how it will look as a link (Example: `https://USERNAME.github.io/REPOSITORY-NAME` where `USERNAME` is your GitHub username).

1. Most users should choose "Public" repository. If you are hosting on GitHub Pages it must be public unless you upgrade to a paid account.

1. Leave the "Include all branches" option Unchecked! (you do not want all branches, only the main/master branch)
   
1. Click on the green button "Create repository from template." This will take you to your new repository.

## Repository Files and Folders

Your new repository comes with a few files and folders you'll be using to add and edit your manuscript content.

- `metadata.yml`: This file defines the bibliographic metadata for your textbook

- `chapters/`: This folder contains the textbook chapter files

- `references.bib`: This file contains the bibliography for your textbook in [BibTex format](http://www.bibtex.org/Format/)

- `docx/`: If you upload `.docx` files from a word processing application (e.g. Microsoft Word, Google Docs, LibreOffice) to this folder, Lantern will automatically convert these files to Markdown and add them to the `chapters/` folder

- `assets/`: This folder contains the files for configurations (`config/`), styles (`css/`), documentation (`docs/`), images (`images/`), scripts (`js/`, `lua/`,), and templates (`templates/`) Lantern uses to produce the output formats. We recommend you do not edit any of these files or folders, except for the images (`images/`) folder, which is where you can upload images used within the textbook.

- `Makefile`: This file defines the core commands Lantern uses to produce your output files. Do not edit this file unless you know what you're doing.

## Add Your Metadata

- Open the `metadata.yml` file to view the available metadata fields.

- To edit the file with your textbook's information, click on the pencil icon labelled "Edit this File" near the right side of the screen

- You can now use GitHub online text editor to replace the placeholder information using YAML syntax rules. 

- When you're finished with your edits, scroll to the bottom of the page to the "Commit changes" form. 

> This form will help you create a _commit_ in your repository. A commmit is a snapshot of a repository. Each commit is an opportunity to briefly log the purpose of your changes to the repository, which is helpful for keeping track of the project's development.

- When you're ready to make the commit, you can keep the default setting for committing directly to the `main` branch. 

- Click on the "Commit changes" button.

